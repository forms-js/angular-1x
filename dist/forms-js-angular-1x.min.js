(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    define([], factory);
  } else if (typeof exports === 'object') {
    module.exports = factory();
  } else {
    root.fjs = factory();
  }
}(this, function() {
var adaptor;(function(e){var t;(function(e){function t(){return new formsjs.ValidationService}e.validator=t})(t=e.services||(e.services={}))})(adaptor||(adaptor={}));var adaptor;(function(e){var t;(function(e){function t(){return function(e){var t=document.createDocumentFragment();return angular.forEach(e.fields,function(e,r){var a=document.createElement("div");a.setAttribute("fjs-"+e.inputType,""),a.setAttribute("key",r),a.setAttribute("config","view['"+r+'"]'),a.className="form-group",t.appendChild(a)}),t}}e.builder=t})(t=e.services||(e.services={}))})(adaptor||(adaptor={}));var adaptor;(function(e){var t;(function(e){function t(){return{scope:!0,restrict:"AE",template:function(e,t){return'<label>{{ cfg.label }}</label><input type="text" class="form-control" fjs-validate="KEY" ng-model="model.KEY"><div class="help-block">{{error}}</div>'.replace(/KEY/g,t.key)},link:function(e,t,r){var a=r.key;e.cfg=e.view.fields[a]}}}e.text=t})(t=e.fields||(e.fields={}))})(adaptor||(adaptor={}));var adaptor;(function(e){var t;(function(e){function t(e,t){return{restrict:"AE",scope:!1,require:"ngModel",link:function(r,a,i,o){r.ngModel=o,o.$asyncValidators.fjs=function(a){console.log("Going to validate ",a);var o={};return o[i.fjsValidate]=a,e.validateField(i.fjsValidate,o,r.validation).then(function(e){return console.log("and the result is!",e),r.error="",t.when(!0)},function(e){return r.error=e[0],console.log(e),t.reject()})}}}}e.validate=t})(t=e.directives||(e.directives={}))})(adaptor||(adaptor={}));var adaptor;(function(e){var t;(function(e){function t(e,t){return{restrict:"AE",scope:{view:"=",validation:"=",model:"="},link:function(r,a){r.$watchGroup(["view","validation"],function(i){var o=i[0],n=i[1];if(void 0!==o&&void 0!==n){var c=t(o);a[0].appendChild(c),e(a.children())(r)}})}}}e.formsjs=t})(t=e.directives||(e.directives={}))})(adaptor||(adaptor={}));var adaptor;(function(e){angular.module("fjs",[]).factory("fjsValidator",e.services.validator).factory("fjsBuilder",e.services.builder).directive("fjsText",e.fields.text).directive("fjsValidate",["fjsValidator","$q",e.directives.validate]).directive("formsJs",["$compile","fjsBuilder",e.directives.formsjs])})(adaptor||(adaptor={}));
return fjs;
}));
